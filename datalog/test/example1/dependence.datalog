ABSBOOL 4
LOC 32
AP 16
COND 32
defines(x:LOC,y:AP) inputtuples
kill(x:LOC,y:AP) inputtuples
uses(x:LOC,y:AP) inputtuples
succ(x:LOC,y:LOC) inputtuples
definesCond(x:COND,y:LOC,z:ABSBOOL) inputtuples
blockCond(x:COND,y:LOC,z:ABSBOOL) inputtuples
spawn(x:LOC,y:LOC) inputtuples
holding(x:LOC) inputtuples
acquire(x:LOC) inputtuples
.bddvarorder AP0_COND0_COND1_COND2_COND3_COND4_ABSBOOL0_ABSBOOL1_LOC0_LOC1_LOC2_LOC3
enabledLock(a:LOC,b:LOC)
enabledCond(c:COND,a:LOC,b:LOC)
mayReachCond(c:COND,a:LOC,b:LOC,c:LOC)
localMayReachCond(c:COND,a:LOC,b:LOC)
blocksOnCond(c:COND,a:LOC)
desc(a:LOC,b:LOC)
descAP(a:LOC,b:LOC,ap:AP)
killCond(c:COND,a:LOC)
inv(c:COND,a:LOC,v:ABSBOOL)
mayReach(def:LOC,ap:AP,use:LOC) outputtuples
mayReachimpl(a:LOC,ap:AP,b:LOC,c:LOC)
enabled(a:LOC,b:LOC)
coreachable(ls:LOC,rs:LOC)
consistent(x:ABSBOOL,y:ABSBOOL)
relevant(a:LOC,ap:AP)
consistent(0,0).
consistent(0,1).
consistent(0,2).
consistent(1,0).
consistent(2,0).
consistent(1,1).
consistent(2,2).
desc(a,b) :- succ(a,b).
desc(a,c) :- desc(a,b),!blocksOnCond(0,b),!blocksOnCond(1,b),!blocksOnCond(2,b),!acquire(b),desc(b,c).
descAP(a,b,_) :- succ(a,b).
descAP(a,c,ap) :- descAP(a,b,ap),!blocksOnCond(0,b),!blocksOnCond(1,b),!blocksOnCond(2,b),!acquire(b),!defines(b,ap),!kill(b,ap),descAP(b,c,ap).
blocksOnCond(i,a) :- blockCond(i,a,_).
enabledCond(i,a,b) :- inv(i,b,bv),blockCond(i,a,av),consistent(av,bv).
enabledCond(i,a,_) :- !blocksOnCond(i,a).
enabledLock(_,b) :- !holding(b).
enabledLock(a,_) :- !acquire(a).
enabled(a,b) :- enabledLock(a,b),enabledCond(0,a,b),enabledCond(1,a,b),enabledCond(2,a,b).
killCond(i,a) :- definesCond(i,a,_).
mayReachCond(i,a,b,c) :- definesCond(i,a,_),coreachable(a,c),enabled(c,a),= a b.
mayReachCond(i,a,b,c) :- definesCond(i,a,_),succ(bPred,b),mayReachCond(i,a,bPred,c),!killCond(i,bPred),enabled(b,c).
mayReachCond(i,a,b,c) :- definesCond(i,a,_),succ(cPred,c),mayReachCond(i,a,b,cPred),!killCond(i,cPred),enabled(c,b).
localMayReachCond(i,a,b) :- definesCond(i,a,_),succ(a,b).
localMayReachCond(i,a,b) :- localMayReachCond(i,a,bPred),!killCond(i,bPred),succ(bPred,b).
inv(i,b,v) :- localMayReachCond(i,a,b),definesCond(i,a,v).
inv(i,b,v) :- mayReachCond(i,a,_,b),definesCond(i,a,v).
coreachable(a,b) :- enabled(aPred,b),desc(aPred,a),coreachable(aPred,b).
coreachable(b,c) :- spawn(a,b),succ(a,c).
coreachable(a,c) :- coreachable(a,b),spawn(b,c).
coreachable(a,b) :- coreachable(b,a).
mayReach(def,ap,use) :- defines(def,ap),uses(use,ap),mayReachimpl(def,ap,_,use).
mayReachimpl(a,ap,b,c) :- defines(a,ap),relevant(c,ap),coreachable(a,c),enabled(a,c),descAP(a,b,ap).
mayReachimpl(a,ap,b,c) :- defines(a,ap),relevant(c,ap),descAP(bPred,b,ap),mayReachimpl(a,ap,bPred,c),!defines(bPred,ap),enabled(bPred,c).
mayReachimpl(a,ap,b,c) :- defines(a,ap),relevant(c,ap),descAP(cPred,c,ap),mayReachimpl(a,ap,b,cPred),!kill(cPred,ap),!defines(cPred,ap),enabled(cPred,b).
relevant(a,ap) :- uses(a,ap).
relevant(b,ap) :- !defines(b,ap),descAP(b,a,ap),relevant(a,ap).
coreachable(25,25).
